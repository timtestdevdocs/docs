---
title: Image Generation
api: 'POST https://api.jigsawstack.com/v1/ai/image_generation'
description: >-
  Generate an image based on the given text by employing AI models like Flux,
  Stable Diffusion, and other top models.
---

import ImageGenerationSnippet from "/snippets/code-req-examples/image-generation.mdx";

## Request Parameters

### Body

<ParamField body="prompt" type="string" required>
  The text prompt to generate the image from. Must be between 1-5000 characters.
</ParamField>

<ParamField body="aspect_ratio" type="string" default="1:1">
  The aspect ratio of the generated image.
  <ul>
    <li>`1:1`</li>
    <li>`16:9`</li>
    <li>`21:9`</li>
    <li>`3:2`</li>
    <li>`2:3`</li>
    <li>`4:5`</li>
    <li>`5:4`</li>
    <li>`3:4`</li>
    <li>`4:3`</li>
    <li>`9:16`</li>
    <li>`9:21`</li>
  </ul>
</ParamField>

<ParamField body="width" type="number">
  The width of the image. Must be between 256-1920 pixels.
</ParamField>

<ParamField body="height" type="number">
  The height of the image. Must be between 256-1920 pixels.
</ParamField>

<ParamField body="steps" type="number" default="4">
  The number of denoising steps. Must be between 1-90. Higher values produce better quality images but take more time to generate.
</ParamField>

<ParamField body="output_format" type="string" default="png">
  The output format of the generated image. Must be one of the following values:
  - `png`
  - `svg`
</ParamField>

<ParamField body="return_type" type="string" default="url">
  Specifies how the generated image should be returned. Must be one of the following values:
  - `url`: Returns a URL to access the generated image
  - `binary`: Returns the image data as binary content
  - `base64`: Returns the image data as a base64-encoded string
</ParamField>

<ParamField body="url" type="string">
  A valid URL where the generated image will be sent.
</ParamField>

<ParamField body="file_store_key" type="string">
  Key to store the generated image in file storage.
</ParamField>

<ParamField body="advance_config" type="object">
  <Expandable title="advance_config" defaultOpen="false">
    <ParamField body="negative_prompt" type="string">
      Text describing what you don't want in the image.
    </ParamField>
    <ParamField body="guidance" type="number">
      Higher guidance forces the model to better follow the prompt, but may result in lower quality output. Must be between 1-28.
    </ParamField>
    <ParamField body="seed" type="number">
      Makes generation deterministic. Using the same seed and set of parameters will produce identical image each time.
    </ParamField>
  </Expandable>
</ParamField>

<Snippet file="header.mdx" />

## Response

The API response format depends on the `return_type` parameter:

- If `return_type` is `url` (default):
  - Returns a JSON object with a `url` field containing the URL to access the generated image.
- If `return_type` is `binary`:
  - Returns the generated image directly in the response body as binary data.
- If `return_type` is `base64`:
  - Returns a JSON object with a `base64` field containing the base64-encoded image data.

## Example Usage

```javascript
import { JigsawStack } from "jigsawstack";

const jigsaw = JigsawStack({ apiKey: "your-api-key" });

const response = await jigsaw.general.image_generation({
  prompt: "A serene landscape with mountains and a lake at sunset",
  aspect_ratio: "16:9",
  return_type: "url",
});

console.log(response.url);
// Output: https://api.jigsawstack.com/v1/store/file/read/generated_image_12345.png
```

<ImageGenerationSnippet />
